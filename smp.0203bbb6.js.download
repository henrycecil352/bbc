define("smp",["jquery-1.9"],function(e){var t=function(e){this.resume=null,this.xhrResult=null,this.options={},this.setOptions(e),this.init()};return t.prototype={current:{player:null},initial_options:{container:null,endpointHost:"https://www.bbc.co.uk",playerSettings:{product:"iplayer",siteID:"iPlayer",appName:"blogs5",appType:"web",playerProfile:"smp",responsive:!0,superResponsive:!0,playlistObject:null,delayEmbed:!1,requestWMP:!0,statsObject:{deviceId:null},ui:{},locale:{lang:"en-gb"},embed:{enabled:!0},muted:null,volume:null,autoplay:!1},rememberResume:!1,messages:{loading:"Loading player...",error:"An error occurred",noVersions:"Currently unavailable"}},setOptions:function(t){this.options=e.extend(!0,{},this.initial_options,t)},init:function(){var t,i=this,n=e(this.options.container+" .js-loading-message");if(n.addClass("loading-spinner").html(this.options.messages.loading),this.options.pid)t=this.options.endpointHost+"/programmes/"+this.options.pid+"/playlist.json";else if(this.options.xml)return t=this.options.xml,void this.loadXMLPlayer(t);e.getJSON(t,function(t){i.xhrResult=t,i.options.playerSettings.statsObject=e.extend(!0,{},i.options.playerSettings.statsObject,t.statsObject),t.defaultAvailableVersion?i.loadPlayer(t.defaultAvailableVersion):(n.removeClass("loading-spinner").html(i.options.messages.noVersions),t.holdingImage&&0===e(i.options.container+" .smp_holding").length&&e(i.options.container).prepend('<img src="'+t.holdingImage+'" class="rsp-img smp_holding" alt="" />'))}).error(function(){n.removeClass("loading-spinner").html(i.options.messages.error)})},loadXMLPlayer:function(e){var t=this;this.options.playerSettings.playlist=e,require(["bump-3"],function(e){t.current.player=e(t.options.container).player(t.options.playerSettings),t.current.player.load()})},loadPlayer:function(t){var i=this,n=t.smpConfig,s=t.markers,o=s.length>0;this.options.playerSettings.playlistObject=e.extend(!0,{},this.options.playerSettings.playlistObject,n),require(["bump-3"],function(e){o&&(i.options.playerSettings.ui.markers={enabled:!0,hideBelowWidth:480}),i.current.player=e(i.options.container).player(i.options.playerSettings),o&&i.current.player.bind("initialised",function(){i.current.player.setData({name:"SMP.markers",data:s})}),i.current.player.load()})}},t});